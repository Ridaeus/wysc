<!-- fetch api check for wysc zendesk -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/bootstrap-4.3.1.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <title>Wysc Zendesk API</title>
</head>
<body>
    
    <div id="wstatusapi">

    </div>

<script> // fetch api status
    function createNode(element) {
        return document.createElement(element);
    }
    function append(parent, el) {
        return parent.appendChild(el);
    }
    const wstatusapi = document.getElementById('wstatusapi');
    const wstatusapi = document.getElementById('wstatusapi');
    const wstatusapi = document.getElementById('wstatusapi');
    const wstatusapi = document.getElementById('wstatusapi');
    fetch("/api/status.json")
    .then((resp) => resp.json())
    .then(function(data) {
        let statuslist = data.wysc;
        return statuslist.map(function(status) {
        let li = createNode('li');
        if (status.isup == true){
            li.className = 'list-group-item rounded';
            li.innerHTML = `<b>${status.title}:</b>&emsp;<text class="text-success">✅</text>`;
        } else {
            li.className = 'bg-warning list-group-item rounded';
            li.innerHTML = `<b>${status.title}:</b>&emsp;<text class="text-danger">${status.isupnotes}</text><br><div class="text-danger pt-1" style="font-size:0.9em">${status.notes}</div>`;
        }
        append(wstatusapi, li);
        })
    })
    .catch(function(error) {
        console.log(error);
    });
</script>

<!--

    function createNode(element) {
        return document.createElement(element);
    }
    function append(parent, el) {
        return parent.appendChild(el);
    }
    const wstatusapi = document.getElementById('wstatusapi');
    fetch("/api/status.json")
    .then((resp) => resp.json())
    .then(function(data) {
        let statuslist = data.wysc;
        return statuslist.map(function(status) {
        let li = createNode('li');
        if (status.isup == true){
            li.className = 'list-group-item rounded';
            li.innerHTML = `<b>${status.title}:</b>&emsp;<text class="text-success">✅</text>`;
        } else {
            li.className = 'bg-warning list-group-item rounded';
            li.innerHTML = `<b>${status.title}:</b>&emsp;<text class="text-danger">${status.isupnotes}</text><br><div class="text-danger pt-1" style="font-size:0.9em">${status.notes}</div>`;
        }
        append(wstatusapi, li);
        })
    })
    .catch(function(error) {
        console.log(error);
    });

-->

</body>
</html>